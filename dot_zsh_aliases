# General aliases
alias sconfig="$EDITOR ~/.ssh"
alias zconfig="$EDITOR ~/.zshrc"
alias zenv="$EDITOR ~/.zshenv"
alias zplug="$EDITOR ~/.zsh_plugins"
alias zalias="$EDITOR ~/.zsh_aliases"
alias zfunc="$EDITOR ~/.zsh_functions"
alias up="topgrade -y -c --skip-notify"
alias cd="z"
alias nv="nvim"
alias py="python3"
alias l="ls"
alias la="ls -la"
alias ll="ls -lh"
alias lt="tree -L 3"
alias gi="git-ignore"
alias ws="wormhole-william send"
alias wr="wormhole-william receive"
alias dac="direnv allow ."
alias restore="sudo restorecon -rv"
alias reload="source ~/.zshrc"

# System aliases
alias flush="resolvectl flush-caches"
alias vblk="lsblk -o PATH,SIZE,RO,TYPE,FSTYPE,MOUNTPOINT,UUID,MODEL"
alias bios="systemctl reboot --firmware-setup"
alias ports="sudo lsof -i -P -n | grep LISTEN"
alias sec="fwupdmgr security"
alias kll="pkill -SIGKILL"
alias battery="sudo tlp-stat -b"
alias ram="sudo lshw -short -C memory"
alias epoch="date +%s"
alias cssl="openssl x509 -text -noout -in"

# GNU replacements
type lsd &>/dev/null && alias ls="lsd --icon=never"
type bat &>/dev/null && alias cat="bat --style=plain --paging=never --theme=base16"
type procs &>/dev/null && alias ps="procs --sortd cpu"
type procs &>/dev/null && alias pst="procs --tree"
alias dog="doggo --time"
alias duf="duf --sort size"
alias xg="xh get --verify no"
alias xgs="xhs get --verify no"
alias xp="xh post --verify no"
alias xps="xhs post --verify no"
alias xd="xh delete --verify no"
alias xdl="xh -d"
alias rs="rsync -auh --info=progress2"
alias rsm="rsync -auessh --info=progress2"

# Dotfiles
alias cz="chezmoi"
alias cza="chezmoi add"
alias cze="chezmoi add --encrypt"
alias czr="chezmoi re-add"
alias czp="chezmoi update; chezmoi apply"

# Kittens
alias s="kitten ssh"
alias kls="ls --hyperlink=auto"
alias icat="kitten icat"
alias kdl="kitten transfer"
alias kup="kitten transfer --direction=upload"
alias kdiff="kitten diff"

# Youtube
alias yt="yt-dlp --sponsorblock-remove default"
alias ytd="yt-dlp -w -o '%(uploader)s/%(playlist_index)s - %(title)s.%(ext)s'"
alias ytx="yt-dlp -x --audio-quality 0 --sponsorblock-remove intro,outro -o '%(uploader)s/%(playlist_index)s - %(title)s.%(ext)s'"

# Benchmark
alias fire="oha --latency-correction -z 30s -q 100"
alias firec="oha --latency-correction -z 30s -c 100 -q 200"
alias map="rustscan -b 65535 -t 1000 --ulimit 70000 -g -a"

# Git
alias g="git"
alias gcl="git clone"
alias ga="git add"
alias gaa="git add -A"
alias gp="git push"
alias gl="git pull --rebase --autostash"
alias gs="git status"
alias gb="git branch"
alias gc="git commit -m"
alias gca="git commit -a -m"
alias gco="git checkout"
alias gcp="git checkout --patch"
alias grs="git remote show origin"
alias grao="git remote add origin"
alias grau="git remote add upstream"
alias grap="git remote set-url --add --push origin"

# Go
alias gou="go get -u; go mod tidy"
alias gob="go clean; go build"
alias gor="go run main.go"

# npm/pnpm
alias n="pnpm"
alias na="pnpm add"
alias nr="pnpm run"
alias ni="pnpm install"
alias nu="pnpm update"
alias nd="pnpm remove"
alias ncu="npx npm-check-updates -u"

# Micromamba
alias mamba="micromamba"
alias mambac="micromamba create -c conda-forge -n"
alias mambaa="micromamba activate"
alias mambad="micromamba deactivate"
alias mambar="micromamba run -n"

# Docker
alias dc="docker compose"
alias dcu="docker compose up -d"
alias dcd="docker compose down"
alias dcp="docker system prune -af --volumes"
alias dbl="docker build"
alias dipu="docker push"
alias dr="docker run -it"
alias dx="docker exec -it"
alias dlo="docker logs"
alias dflo="docker logs -f"

# Podman
alias pd="podman"
alias pbl="podman build"
alias pcp="podman system prune -af --volumes"
alias pds="podman ps"
alias pipu="podman push"
alias plo="podman logs"
alias pflo="podman logs -f"

# Distrobox
alias bx="distrobox"
alias bxa="distrobox assemble create --file $HOME/.config/distrobox.ini"
alias bxe="distrobox enter"
alias bxd="distrobox rm"
alias bxl="distrobox list"
alias bxu="distrobox upgrade"
alias bxx="distrobox-export --app"
alias bxnv="nvim ~/.config/distrobox.ini"

# Pyenv
alias pv="pyenv"
alias pvi="pyenv install"
alias pvu="pyenv uninstall"
alias pvg="pyenv global"
alias pvv="pyenv versions"
alias svv="source venv/bin/activate"

# Terraform
alias tf="terraform"
alias tfp="terraform get -update;terraform apply"
alias tfa="terraform get -update;terraform apply -auto-approve"
alias tfd="terraform get -update;terraform destroy"
alias tfu="terraform init -upgrade"

# Flux
alias fl="flux"
alias flg="flux get kustomizations"
alias flw="flux get kustomizations --watch"
alias fls="flux suspend"
alias flr="flux resume"
alias flre="flux reconcile"

# Cloudflare
alias cf="flarectl --json"
alias cfz="flarectl zone dns --zone"

# Vault
alias v="vault"
alias vm="vault operator members"
alias vs="vault secrets list"
alias vt="vault list /auth/token/accessors"
alias vr="vault token revoke -accessor"
alias vg="vault kv get"
alias vout="vault token revoke -self"

# Kubernetes
alias k="kubectl"
alias kn="kubens"
alias kx="kubectx"
alias kk="kubectl kustomize"
alias kd="kubectl delete"
alias kdd="kubectl delete --force=true --grace-period=0"
alias ktn="kubectl top node"
alias ktp="kubectl top pod"
alias kg="kubectl get"
alias kgp="kubectl get pods"
alias kgb="kubectl get -o yaml"
alias kgn="kubectl get -A"
alias kga="kubectl get pods,services,deployments,jobs,daemonset"
alias kgaa="kubectl get -A pods,services,deployments,jobs,daemonset"
alias kgca="kubectl get certs,certificaterequests,order,challenges,ingress"
alias kgcaa="kubectl get -A certs,certificaterequests,order,challenges,ingress"
alias kl="kubectl logs"
alias kf="kubectl apply -f"
alias ke="kubectl edit"
alias kex="kubectl exec -it"
alias kb="kubectl describe"
alias kca="kubectl certificate approve"
alias kcd="kubectl certificate deny"
alias ks="kubectl get secrets -o yaml"
alias ksj="kubectl get secrets -o json"
alias kr="kubectl rollout restart deployment"
alias krs="kubectl rollout restart statefulset"
alias kp="kubectl port-forward"
alias kinfo="kubectl cluster-info"

# Kubernetes Special
alias kpatch="kubectl patch -p '{\"metadata\": {\"finalizers\": null}}'"
alias kdebug="kubectl run -it busybox --image=alpine:latest --restart=Never;kubectl exec -it busybox -- apk --update add curl bind-tools nmap"
alias kdrepl="kubectl delete replicaset \$(kubectl get replicaset -o jsonpath='{ .items[?(@.spec.replicas==0)].metadata.name }')"
alias kdpv="kubectl get pv | grep Released | awk '$1 {print$1}' | while read vol; do kubectl delete pv/${vol}; done"
alias kclean="kubectl delete pods --field-selector status.phase=Failed -A"
alias kcsrd="kubectl get csr | grep Denied | awk '{print $1;}' | xargs kubectl delete csr"

# Helm
alias h="helm"
alias hi="helm upgrade --install"
alias hu="helm uninstall"
alias hs="helm status"
alias hl="helm list"
alias hg="helm get"
alias hgv="helm get values"
alias hh="helm history"
alias hr="helm rollback"
alias hc="helm create"
alias hpk="helm package"
alias hp="helm push"
